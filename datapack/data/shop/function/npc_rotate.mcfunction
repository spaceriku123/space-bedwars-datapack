execute as @e[tag=npc] at @s facing entity @p[distance=..4] feet run tp ^ ^ ^

# schedule function shop:npc_rotate 1t